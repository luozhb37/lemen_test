*** Settings ***
Resource          ../GM1-UI-公共/GM1-UI-引用.txt

*** Keywords ***
费用列表--按费用页面高级查询
    [Arguments]    ${key}    ${value}
    [Documentation]    key:高级查询条件名
    ...
    ...    value：高级查询条件查询内容
    ...
    ...    type:两列时选择的精确/模糊；默认为精确
    ...
    ...    is_clear：1/0 \ \ \ 是否清空已存在的查询条件内容；1表示需要清空；0表示不需要清空
    Wait Until Element Is Visible    xpath=//div[@id='dzg-adsearch']//a[text()='高级查询']
    点击    xpath=//div[@id='dzg-adsearch']//a[text()='高级查询']
    基石列表高级查询-内部不可引用(单列)    ${key}    ${value}    0
    点击    xpath=//div[@class='ant-modal-content']//span[text()='查询']/..    # 点击查询按钮
    等待loading消失

费用列表--按工作单页面查询
    [Arguments]    ${businessno}
    清空输入框内容    id=noKeywordList
    输入    id=noKeywordList    ${businessno}
    Run Keyword And Return Status    Mouse Over    xpath=//i[@class='anticon anticon-cross-circle ant-calendar-picker-clear']    #移动到清除按钮上
    Run Keyword And Return Status    点击    xpath=//i[@class='anticon anticon-cross-circle ant-calendar-picker-clear']    #清除时间
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

新增对账单--按工作单页面查询
    [Arguments]    ${customername}    ${worknumber}
    点击    xpath=//label[@title='结算对象']/../..//div[@class='ant-select-selection__rendered']
    输入    xpath=//label[@title='结算对象']/../..//div[@class='ant-select-selection__rendered']//input    ${customername}
    输入    id=multi_numberList    ${worknumber}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

新增对账单--按账单页面查询
    [Arguments]    ${customername}    ${worknumber}
    点击    xpath=//label[@title='结算对象']/../..//div[@class='ant-select-selection__rendered']
    输入    xpath=//label[@title='结算对象']/../..//div[@class='ant-select-selection__rendered']//input    ${customername}
    输入    id=multi_numberList    ${worknumber}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

对账单管理页面查询
    [Arguments]    ${checkaccountno}
    清空输入框内容    id=multi_numberList
    输入    id=multi_numberList    ${checkaccountno}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

应收待开票页面查询
    [Arguments]    ${preInvoiceno}
    清空输入框内容    id=noKeywordList
    输入    id=noKeywordList    ${preInvoiceno}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

应收发票管理页面查询
    [Arguments]    ${invoice}
    清空输入框内容    id=noKeywordList
    输入    id=noKeywordList    ${invoice}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

收款单管理页面查询
    [Arguments]    ${key}    ${value}
    Wait Until Element Is Visible    xpath=//div[@id='dzg-adsearch']//a[text()='高级查询']
    点击    xpath=//div[@id='dzg-adsearch']//a[text()='高级查询']
    基石列表高级查询-内部不可引用(单列)    ${key}    ${value}    0
    点击    xpath=//div[@class='ant-modal-content']//span[text()='查询']/..    # 点击查询按钮
    等待loading消失

登记发票--按工作单页面查询
    [Arguments]    ${invoice}
    清空输入框内容    id=multi_numberList
    输入    id=multi_numberList    ${invoice}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

应付发票管理页面查询
    [Arguments]    ${invoice}
    清空输入框内容    id=noKeywordList
    输入    id=noKeywordList    ${invoice}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

我的请款单--未付款页面查询
    [Arguments]    ${applyNo}
    清空输入框内容    id=noKeywordList
    输入    id=noKeywordList    ${applyNo}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

请款单管理--不可受理页面查询
    [Arguments]    ${applyNo}
    清空输入框内容    id=noKeywordList
    输入    id=noKeywordList    ${applyNo}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

付款单管理--待付款未审核页面查询
    [Arguments]    ${单号}
    清空所有搜索条件
    输入    id=noKeywordList    ${单号}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

付款单管理--待付款待核销页面查询
    [Arguments]    ${待付款单号}
    清除搜索条件(老版)
    输入    id=noKeywordList    ${待付款单号}
    点击    xpath=//span[text()='查 询']/..
    等待loading消失

核销记录(收款)页面查询
    [Arguments]    ${key}    ${value}
    Wait Until Element Is Visible    xpath=//div[@id='dzg-adsearch']//a[text()='高级查询']
    点击    xpath=//div[@id='dzg-adsearch']//a[text()='高级查询']
    基石列表高级查询-内部不可引用(单列)    ${key}    ${value}    0
    点击    xpath=//div[@class='ant-modal-content']//span[text()='查询']/..    # 点击查询按钮
    等待loading消失

核销记录(付款)页面查询
    [Arguments]    ${key}    ${value}
    Wait Until Element Is Visible    xpath=//div[@id='dzg-adsearch']//a[text()='高级查询']
    点击    xpath=//div[@id='dzg-adsearch']//a[text()='高级查询']
    基石列表高级查询-内部不可引用(单列)    ${key}    ${value}    0
    点击    xpath=//div[@class='ant-modal-content']//span[text()='查询']/..    # 点击查询按钮
    等待loading消失

应收应付凭证页面查询
    Run Keyword And Return Status    Mouse Over    xpath=//i[@class='anticon anticon-cross-circle ant-calendar-picker-clear']
    Run Keyword And Return Status    点击    xpath=//i[@class='anticon anticon-cross-circle ant-calendar-picker-clear']    #清空日期
    点击    id=financeInterface-old-adSearch
    等待loading消失

实收凭证页面查询
    Run Keyword And Return Status    Mouse Over    xpath=//i[@class='anticon anticon-cross-circle ant-calendar-picker-clear']
    Run Keyword And Return Status    点击    xpath=//i[@class='anticon anticon-cross-circle ant-calendar-picker-clear']    #清空日期
    点击    id=receiveVerificationRecord-old-adSearch
    等待loading消失

实付凭证页面查询
    Run Keyword And Return Status    Mouse Over    xpath=//i[@class='anticon anticon-cross-circle ant-calendar-picker-clear']
    Run Keyword And Return Status    点击    xpath=//i[@class='anticon anticon-cross-circle ant-calendar-picker-clear']    #清空日期
    点击    id=paymentRecord-old-adSearch
    等待loading消失

清空所有搜索条件
    ${result}    获取匹配xpath的个数    xpath=//label[@title='搜索条件']
    Run Keyword If    ${result}>0    循环点击搜索条件叉叉

循环点击搜索条件叉叉
    ${return}    获取匹配xpath的个数    xpath=//label[@title='搜索条件']/../../../..//div[2]/div
    ${ti}    Evaluate    ${return}-1
    : FOR    ${i}    IN RANGE    ${ti}
    \    点击    xpath=xpath=//label[@title='搜索条件']/../../../..//div[2]/div[${i}]//i[@class='anticon anticon-cross']
